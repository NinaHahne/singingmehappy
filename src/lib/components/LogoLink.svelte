<script lang="ts">
  import { page } from '$app/state';
  import { getContext } from 'svelte';

  type MenuContext = {
    toggleMenuIfOpen: () => void;
  };

  const { toggleMenuIfOpen } = getContext<MenuContext>('menu');

  let { hideOnHome = true, invisible = false } = $props<{
    hideOnHome?: boolean;
    invisible?: boolean;
  }>();
</script>

<!-- onclick={toggleMenuIfOpen} -->
<a
  href={`/`}
  class="btn-shadow hoverable:hover:btn-shadow-hover flex-shrink-0"
  class:hidden={hideOnHome && page.url.pathname === '/'}
  class:invisible
  onclick={toggleMenuIfOpen}
>
  <img draggable="false" src="/favicon.png" alt="Logo / Home Icon" class="pointer-events-none h-12 w-auto" />
</a>

<style>
  .invisible {
    opacity: 0;
    pointer-events: none;
  }
</style>
